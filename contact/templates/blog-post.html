<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Blog Post | Oja Agbe Harvestify{% endblock %}</title>
  <link rel="stylesheet" href="{% static 'css/font-awesome.css' %}">
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.8;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }

    header {
      background-color: #2c3e50;
      color: white;
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    header .logo a {
      color: white;
      text-decoration: none;
      font-size: 1.5em;
      font-weight: bold;
    }

    header ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
    }

    header ul li {
      margin-left: 20px;
    }

    header ul li a {
      color: white;
      text-decoration: none;
      font-size: 1em;
    }

    header ul li a:hover {
      text-decoration: underline;
    }

    main {
      max-width: 900px;
      margin: 30px auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    main img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      margin: 20px 0;
    }

    .post-meta {
      color: #777;
      font-size: 0.9em;
      margin-bottom: 20px;
    }

    .social-share {
      margin: 20px 0;
    }

    .social-icon {
      text-decoration: none;
      margin-right: 10px;
      font-size: 1.5em;
      color: #555;
    }

    .social-icon:hover {
      color: #2c3e50;
    }

    .comments {
      margin-top: 40px;
    }

    .comments form {
      display: flex;
      flex-direction: column;
      margin-bottom: 20px;
    }

    .comments textarea {
      resize: none;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      margin-bottom: 10px;
      font-size: 1em;
    }

    .comments button {
      align-self: flex-start;
      background-color: #2c3e50;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
    }

    .comments button:hover {
      background-color: #1a252f;
    }

    .comments #comment-list {
      margin-top: 20px;
      padding: 10px;
      border-top: 1px solid #ccc;
    }

    .related-posts {
      margin-top: 50px;
    }

    .related-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: space-between;
    }

    .related-post {
      flex: 1 1 calc(30% - 20px);
      max-width: calc(30% - 20px);
      background: #f9f9f9;
      border: 1px solid #ddd;
      border-radius: 8px;
      text-align: center;
      padding: 10px;
    }

    .related-post img {
      max-width: 100%;
      height: auto;
      border-radius: 5px;
    }

    .related-post a {
      display: block;
      margin-top: 10px;
      text-decoration: none;
      color: #2c3e50;
      font-weight: bold;
    }

    .related-post a:hover {
      color: #1a252f;
    }

    footer {
      background-color: #2c3e50;
      color: white;
      text-align: center;
      padding: 15px 0;
      margin-top: 40px;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo"><a href="{% url 'home' %}">Oja Agbe</a></div>
    <ul>
      <li><a href="{% url 'home' %}">Home</a></li>
      <li><a href="{% url 'article1' %}">Articles</a></li>
      <li><a href="{% url 'about' %}">About</a></li>
      <li><a href="{% url 'contact' %}">Contact</a></li>
    </ul>
  </header>

  <main>
    <article class="blog-post">
      <h1>{% block post_title %}Understanding Sustainable Farming{% endblock %}</h1>
      <p class="post-meta">By <span>Wahab Olayinka</span> | Published on <span>Dec 23, 2024</span></p>
      <img src="{% static 'images/sustainable.png' %}" alt="Sustainable Farming">
      <p>
        Sustainable farming is a method of agriculture that seeks to balance the needs of producing food with the preservation of the environment. By using practices like crop rotation, natural pest management, and water conservation, farmers can achieve higher yields while protecting the planet.
      </p>
      <h2>Key Benefits</h2>
      <p>
        Sustainable farming has numerous benefits, including improved soil health, reduced carbon footprint, and higher crop resilience to climate change.
      </p>
      <h2>How to Start?</h2>
      <p>
        Begin with small changes, such as adopting organic fertilizers and practicing crop rotation. Gradually expand to more advanced techniques as you become comfortable with sustainable farming practices.
      </p>
      <div class="social-share">
        <p>Share this post:</p>
        <a href="#" class="social-icon"><i class="fab fa-facebook"></i></a>
        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
        <a href="#" class="social-icon"><i class="fab fa-linkedin"></i></a>
      </div>
    </article>

    <section class="comments">
      <h2>Comments</h2>
      <form id="comment-form">
        <textarea id="comment-input" placeholder="Write a comment..." required></textarea>
        <button type="submit">Submit</button>
      </form>
      <div id="comment-list">
        <!-- Comments will appear here -->
      </div>
    </section>

    <section class="related-posts">
      <h2>Related Posts</h2>
      <div class="related-container" id="related-container">
        <!-- Related posts will be dynamically added here -->
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2024 Oja Agbe Harvestify | All rights reserved.</p>
  </footer>

  <script>
    // Dynamic Related Posts
    const relatedPosts = [
      {
        title: "5 Sustainable Practices for Beginners",
        img: "{% static 'images/sustainable.png' %}",
        link: "{% url 'article1' %}",
      },
      {
        title: "Why Choose Organic Farming?",
        img: "{% static 'images/organic.png' %}",
        link: "{% url 'article5' %}",
      },
      {
        title: "Top 10 Water Conservation Tips",
        img: "{% static 'images/water.png' %}",
        link: "{% url 'article4' %}",
      },
      {
        title: "Effective Pest Management Strategies",
        img: "{% static 'images/pest.png' %}",
        link: "{% url 'article6' %}",
      },
    ];

    const relatedContainer = document.getElementById("related-container");
    relatedPosts.forEach(post => {
      const postElement = document.createElement("div");
      postElement.classList.add("related-post");
      postElement.innerHTML = `
        <img src="${post.img}" alt="${post.title}">
        <a href="${post.link}">${post.title}</a>
      `;
      relatedContainer.appendChild(postElement);
    });

    // Comment Submission
    document.getElementById("comment-form").addEventListener("submit", function (e) {
      e.preventDefault();
      const commentInput = document.getElementById("comment-input");
      const commentList = document.getElementById("comment-list");

      if (commentInput.value.trim() !== "") {
        const comment = document.createElement("p");
        comment.textContent = commentInput.value;
        commentList.appendChild(comment);
        commentInput.value = ""; // Clear input
      }
    });
  </script>
</body>
</html>
